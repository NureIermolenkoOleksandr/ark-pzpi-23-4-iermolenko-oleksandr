МІНІСТЕРСТВО ОСВІТИ І НАУКИ УКРАЇНИ
ХАРКІВСЬКИЙ НАЦІОНАЛЬНИЙ УНІВЕРСИТЕТ РАДІОЕЛЕКТРОНІКИ


КАФЕДРА ПРОГРАМНОЇ ІНЖЕНЕРІЇ




Звіт
з практичного заняття №2 з дисципліни
аналіз та рефакторінг коду




Виконав:                                                                           Перевірив:
ст. гр. ПЗПІ-23-4                      				ст. викладач кафедри ПІ
 Єрмоленко Олександр		                               Сокорчук Ігор Петрович



Харків 2025
ІСТОРІЯ ЗМІН
      №
      Дата
Версія звіту
      Опис змін та виправлень
      1
      02.01.2026
      0.1
      Початкова версія



1 МЕТА РОБОТИ
     Метою даної практичної роботи є вивчення та практичне застосування сучасних методів рефакторингу програмного коду з метою підвищення його якості, читабельності та зручності супроводу. У межах роботи розглядаються три поширені підходи до покращення структури програм: принцип DRY (Don't repeat yourself), метод Replace conditional with polymorphism (Заміна умовного оператора поліморфізмом) та метод Consolidate conditional expression (Консолідація умовного виразу). На практичних прикладах демонструється, які проблеми виникають у коді без рефакторингу та яким чином застосування зазначених методів дозволяє їх усунути без зміни зовнішньої поведінки програми.
     
     
     
     
     
     
     
     
     
     
     
     
     
     
     2 ОПИС ВИКОНАНОЇ РОБОТИ
     Рефакторинг є важливою складовою процесу розробки програмного забезпечення, оскільки дозволяє підтримувати код у зрозумілому, структурованому та масштабованому вигляді. У реальних проєктах код часто еволюціонує: додаються нові вимоги, змінюється бізнес-логіка, з’являються виняткові випадки. Без регулярного рефакторингу це призводить до дублювання коду, надмірної кількості умовних операторів та ускладнення підтримки.
     У цій роботі розглянуто три методи рефакторингу, які часто застосовуються під час розробки об’єктно-орієнтованих та веб-застосунків.
     Принцип DRY формулюється як «не повторюйся» і означає, що кожен фрагмент знань або логіки в системі повинен мати єдине, недвозначне представлення. Порушення цього принципу зазвичай проявляється у вигляді дубльованого коду, який повторюється в різних частинах програми.
     Розглянемо приклад функції, яка обчислює фінальну ціну замовлення залежно від типу користувача:
       1. def calculate_price(order, user):
       2. 	if user.type == "student":
       3. 		price = order.amount * 0.9
       4. 		print("Ціна розрахована зі знижкою")
       5. 	elif user.type == "vip":
       6. 		price = order.amount * 0.8
       7. 		print("Ціна розрахована зі знижкою")
       8. 	else:
       9. 		price = order.amount
       10. 		print("Ціна розрахована зі знижкою")
       11. 	return price
     У цьому прикладі рядок виводу print("Ціна розрахована зі знижкою") дублюється у всіх гілках умовного оператора. Це є порушенням принципу DRY, оскільки будь-яка зміна тексту повідомлення вимагатиме редагування одразу в кількох місцях.
     Рефакторинг полягає у винесенні спільного коду за межі умовного блоку:
       1. def calculate_price(order, user):
       2. 	if user.type == "student":
       3. 		price = order.amount * 0.9
       4. 	elif user.type == "vip":
       5. 		price = order.amount * 0.8
       6. 	else:
       7. 		price = order.amount
       8. 
       9. 	print("Ціна розрахована зі знижкою")
       10. 	return price
     Після рефакторингу код стає коротшим, читабельнішим і безпечнішим для подальших змін. Принцип DRY допомагає зменшити кількість помилок та спростити супровід програми.
     Метод Replace Conditional with Polymorphism застосовується у випадках, коли поведінка програми залежить від типу об’єкта, а логіка реалізована через великі або зростаючі умовні оператори if-elif-else або switch.
     Розглянемо приклад обчислення вартості доставки залежно від типу доставки:
       1. def calculate_delivery_cost(delivery_type, distance):
       2. 	if delivery_type == "standard":
       3. 		return distance * 10
       4. 	elif delivery_type == "express":
       5. 		return distance * 20
       6. 	elif delivery_type == "overnight":
       7. 		return distance * 30
     Такий підхід має недоліки: при додаванні нового типу доставки необхідно змінювати існуючу функцію, що порушує принцип відкритості/закритості (Open/Closed Principle).
     Рефакторинг полягає у використанні поліморфізму. Спочатку створюється базовий клас:
       1. class Delivery:
       2. def calculate_cost(self, distance):
       3. raise NotImplementedError()
     Далі для кожного типу доставки створюються окремі класи:
       1. class StandardDelivery(Delivery):
       2. 	def calculate_cost(self, distance):
       3. 		return distance * 10
       4. 
       5. 
       6. class ExpressDelivery(Delivery):
       7. 	def calculate_cost(self, distance):
       8. 		return distance * 20
       9. 
       10. 
       11. class OvernightDelivery(Delivery):
       12. 	def calculate_cost(self, distance):
       13. 		return distance * 30
     Використання такого підходу дозволяє замінити умовну логіку поліморфним викликом методу:
       1. delivery = ExpressDelivery()
       2. cost = delivery.calculate_cost(distance)
     Перевагою цього методу є краща масштабованість та читабельність коду. Додавання нового типу доставки не потребує зміни існуючого коду, а лише створення нового класу.
     Метод Consolidate Conditional Expression застосовується у випадках, коли одна і та сама дія виконується за кількох різних умов, оформлених у вигляді окремих if.
     Приклад проблемного коду:
       1. def can_access_system(user):
       2. 	if user.is_admin:
       3. 		return True
       4. 	if user.is_moderator:
       5. 		return True
       6. 	if user.has_special_permission:
       7. 		return True
       8. 	return False)
     Логіка доступу розпорошена по кількох умовах, що ускладнює розуміння бізнес-правила.
     Рефакторинг полягає в об’єднанні умов в один логічний вираз:
       1. def can_access_system(user):
       2. is_admin = user.is_admin
       3. is_moderator = user.is_moderator
       4. has_permission = user.has_special_permission
       5. 
       6. return is_admin or is_moderator or has_permission
     Після рефакторингу умови стають централізованими, а код — більш зрозумілим і простим для розширення.
     3 ВИСНОВКИ
     У ході виконання практичної роботи було розглянуто та проаналізовано три методи рефакторингу: принцип DRY, Replace Conditional with Polymorphism та Consolidate Conditional Expression. На практичних прикладах показано, що дублювання коду, надмірні умовні оператори та розпорошена логіка негативно впливають на якість програмного забезпечення.
     Застосування принципу DRY дозволяє зменшити кількість повторень та спростити підтримку коду. Використання поліморфізму замість умовних операторів робить систему гнучкішою та легшою для розширення. Консолідація умовних виразів покращує читабельність і робить бізнес-логіку прозорою.
     Отримані результати підтверджують, що рефакторинг є необхідним етапом розробки програмного забезпечення та суттєво підвищує його якість і надійність.
     
     
     
     
     
     
     
     
     
     
     
     


     
     ДОДАТОК А
     Посилання на YouTube
Відеозапис презентації результатів практичного заняття: https://youtu.be/W73xUwP4_KM

























    ДОДАТОК Б
    Графічні матеріали 
    

Рисунок Б.1 — Титульний слайд


Рисунок Б.2 — Слайд про мету рефакторіну

Рисунок Б.3 — Метод DRY. Проблема

 
Рисунок Б.4 — Метод DRY. Вирішення
 
Рисунок Б.5 — Метод Replace conditional with polymorphism. Проблема


Рисунок Б.6 — Метод Replace conditional with polymorphism. Вирішення


Рисунок Б.7 — Метод 3: Consolidate Conditional Expression
Проблема


Рисунок Б.8 — Метод 3: Consolidate Conditional Expression
Проблема

 
Рисунок Б.9 — Висновки


Рисунок Б.10 — Використані джерела





2


